{"version":3,"file":"static/webpack/static/development/pages/compains/requests.js.679bda982a740ad232aa.hot-update.js","sources":["webpack:///./components/RequestRow.js"],"sourcesContent":["import React from 'react';\nimport web3 from '../ethereum/web3';\nimport { Table,Button } from 'semantic-ui-react';\nimport Compain from '../ethereum/compain';\nclass RequestRow extends React.Component{\n\nonApprove=async()=>{\n  const compain = Compain(this.props.address);\n  const accounts = await web3.eth.getAccounts();\n  await compain.methods.approveRequest(this.props.id).send({\n    from:accounts[0]\n  });\n}\n\nonFinalize=async()=>{\n  const compain = Compain(this.props.address);\n  const accounts = await web3.eth.getAccounts();\n  await compain.methods.finalizeRequest(this.props.id).send({\n    from:accounts[0]\n  });\n}\n\n\nrender(){\nconst {Row,Cell} = Table;\nconsole.log(this.props);\nconst {id,request,approversCount}= this.props;\nconsole.log(approversCount);\n  return (\n    <Row disabled ={request.complete}>\n      <Cell>{id}</Cell>\n      <Cell>{request.description}</Cell>\n      <Cell>{web3.utils.fromWei(request.value,'ether')}</Cell>\n        <Cell>{request.recipients}</Cell>\n        <Cell>{request.approveCount}/{approversCount}</Cell>\n        <Cell>\n          {\n            request.complete?null:(<Button color=\"green\" onClick={this.onApprove}>同意</Button>)\n          }\n\n        </Cell>\n\n        <Cell>\n          <Button color=\"teal\" onClick={this.onFinalize}>完成</Button>\n        </Cell>\n\n    </Row>\n  );\n}\n\n}\nexport default RequestRow;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AAAA;;;;;;;;;;;;;;;;;;;;;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAEA;AAFA;AAAA;AAIA;AADA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;;;;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAEA;AAFA;AAAA;AAIA;AADA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;;;;;AAQA;AAAA;AAAA;AAEA;AAFA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AAAA;AAQA;AAAA;AAAA;AAMA;AAAA;AAAA;AAKA;;;;AA5CA;AACA;AA8CA;;;;A","sourceRoot":""}